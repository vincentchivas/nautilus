(function(n){function f(n){return"tagName"in n?n:n.parentNode}function e(n,t,i,r){var f=Math.abs(n-t),u=Math.abs(i-r);return f<u?i-r>0?"Up":"Down":n-t>0?"Left":"Right"}function u(){t.last&&Date.now()-t.last>=r&&(t.el.trigger("longTap"),t={})}var t={},i,r=750;n(document).ready(function(){n(document.body).bind("touchstart",function(e){var o=Date.now(),s=o-(t.last||o);t.el=n(f(e.touches[0].target)),i&&clearTimeout(i),t.x1=e.touches[0].pageX,t.y1=e.touches[0].pageY,s>0&&s<=250&&(t.isDoubleTap=!0),t.last=o,setTimeout(u,r)}).bind("touchmove",function(n){t.x2=n.touches[0].pageX,t.y2=n.touches[0].pageY}).bind("touchend",function(){if(t.isDoubleTap)t.el.trigger("doubleTap"),t={};else if(t.x2>0||t.y2>0){var u=Math.abs(t.x1-t.x2),r=Math.abs(t.y1-t.y2);(u>30||r>30)&&t.el.trigger("swipe"),u>30^r>30&&t.el.trigger("swipe"+e(t.x1,t.x2,t.y1,t.y2)),t.x1=t.x2=t.y1=t.y2=t.last=0}else"last"in t&&(t.el.trigger("tap"),i=setTimeout(function(){i=null,t.el.trigger("singleTap"),t={}},250))}).bind("touchcancel",function(){t={}})}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){n.fn[t]=function(n){return this.bind(t,n)}})})(Zepto)